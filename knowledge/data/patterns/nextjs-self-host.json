{
  "patternId": "nextjs-self-host",
  "name": "Nextjs Self Host",
  "description": "Next.js application",
  "framework": "Next.js",
  "language": "JavaScript",
  "tags": [
    "nextjs"
  ],
  "services": null,
  "zeropsYml": {
    "zerops": [
      {
        "build": {
          "base": "bun@1.1.34",
          "buildCommands": [
            "bun i",
            "bun run build"
          ],
          "deployFiles": "./",
          "envVariables": {
            "DATABASE_URL": "postgresql://${db_user}:${db_password}@${db_hostname}:${db_port}",
            "NODE_ENV": "production"
          }
        },
        "run": {
          "base": "bun@1.1.34",
          "envVariables": {
            "DATABASE_URL": "postgresql://${db_user}:${db_password}@${db_hostname}:${db_port}",
            "DATABASE_URL_EXTERNAL": "postgresql://${db_user}:${db_password}@${db_hostname}:${db_port}",
            "NEXT_PUBLIC_SAFE_KEY": "2593d5245efeb3ab2740e814137e2699",
            "NODE_ENV": "production",
            "SECRET_KEY": "M84x+qmwgkFExd2PrzXyvTZI6zupIisV+nO0+W5jDjo="
          },
          "initCommands": [
            "bun run db:generate"
          ],
          "ports": [
            {
              "httpSupport": true,
              "port": 3000
            }
          ],
          "start": "bun run start"
        },
        "setup": "app"
      }
    ]
  },
  "bestPractices": [
    "Use standalone build for smaller images",
    "Enable ISR for dynamic content",
    "Use environment variables for API URLs",
    "Cache node_modules between builds"
  ],
  "sourceRecipe": "nextjs-self-host-main",
  "deploymentType": "local"
}