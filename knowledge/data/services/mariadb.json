{
  "type": "mariadb",
  "category": "database",
  "description": "MariaDB relational database (MySQL-compatible)",
  "versions": [
    { "version": "10.6", "status": "current", "recommended": true, "note": "Only supported version" }
  ],
  "modes": ["HA", "NON_HA"],
  "ports": {
    "default": 3306,
    "internal": true,
    "httpSupport": false
  },
  "configuration": {
    "yamlImport": {
      "required": ["hostname", "type", "mode"],
      "optional": ["minContainers", "maxContainers", "envVariables"]
    },
    "resources": {
      "minContainers": { "HA": 3, "NON_HA": 1 },
      "maxContainers": { "max": 6 },
      "verticalScaling": {
        "cpu": { "min": 1, "max": 32, "units": "cores" },
        "ram": { "min": 0.25, "max": 128, "units": "GB" },
        "disk": { "min": 5, "max": 5000, "units": "GB" }
      }
    }
  },
  "envVariables": {
    "system": {
      "MARIADB_VERSION": "10.6"
    },
    "autoGenerated": {
      "hostname": "Internal hostname for connections",
      "connectionString": "Full MariaDB connection string",
      "host": "Database host (same as hostname)",
      "port": "Database port (3306)",
      "database_name": "Name of the default database",
      "user": "Database username",
      "password": "Auto-generated secure password"
    }
  },
  "access": {
    "internal": "Accessible from other services via ${servicename_hostname}",
    "external": "No direct external access, use VPN for management",
    "ssl": "SSL/TLS available for connections"
  },
  "backups": {
    "automatic": true,
    "retention": "7 days",
    "type": "Binary log backups"
  },
  "compatibility": {
    "mysql": "Drop-in replacement for MySQL",
    "version": "Compatible with MySQL 5.7 protocol"
  },
  "bestPractices": [
    "Use HA mode for production workloads",
    "Configure connection pooling in your application",
    "Use utf8mb4 character set for full Unicode support",
    "Monitor slow queries with slow query log",
    "Set proper buffer pool size",
    "Use InnoDB storage engine",
    "Regular ANALYZE TABLE for statistics"
  ],
  "connectionStrings": {
    "standard": "mysql://${user}:${password}@${hostname}:3306/${database_name}",
    "mysqli": "mysqli://${user}:${password}@${hostname}:3306/${database_name}",
    "pdo": "mysql:host=${hostname};port=3306;dbname=${database_name}",
    "jdbc": "jdbc:mariadb://${hostname}:3306/${database_name}"
  },
  "storageEngines": {
    "innodb": {
      "default": true,
      "features": ["ACID compliance", "Foreign keys", "Row-level locking"]
    },
    "aria": {
      "features": ["Crash-safe", "Better caching", "Faster than MyISAM"]
    },
    "columnstore": {
      "features": ["Columnar storage", "Analytics workloads"]
    }
  },
  "examples": {
    "basic": {
      "yamlImport": {
        "services": [
          {
            "hostname": "db",
            "type": "mariadb@10.6",
            "mode": "NON_HA"
          }
        ]
      }
    },
    "production": {
      "yamlImport": {
        "services": [
          {
            "hostname": "db",
            "type": "mariadb@10.6",
            "mode": "HA",
            "minContainers": 3,
            "maxContainers": 5
          }
        ]
      }
    },
    "withWordPress": {
      "yamlImport": {
        "services": [
          {
            "hostname": "db",
            "type": "mariadb@10.6",
            "mode": "NON_HA"
          },
          {
            "hostname": "wp",
            "type": "php-apache@8.2",
            "ports": [{ "port": 80, "httpSupport": true }],
            "envVariables": {
              "DB_HOST": "${db_hostname}",
              "DB_NAME": "${db_dbName}",
              "DB_USER": "${db_user}",
              "DB_PASSWORD": "${db_password}"
            }
          }
        ]
      }
    }
  },
  "limitations": [
    "Only version 10.6 is supported",
    "MariaDB 11 is not available",
    "Some MySQL 8.0 features may not be available"
  ]
}